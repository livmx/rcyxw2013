评论模块的设计
===================


支持对任意对象的评论(any model or object)
-------------
yii中评论的目标对象主要是ActiveRecord模型 如果没有对应的表那么可以是一个虚Entity  继承自Model即可。有实体特征即可。


涉及到评论的三个视图片段：
-   评论列表
-   评论表单
-   最近评论
以上三种在yii中用widget来实现

UI层
-------------
可能出现评论的view
在浏览某个实体时 其对应的view视图 （actionView动作对应的视图）常常会使用评论功能。
这时需要有评论列表 和评论表单。

最近评论 一般出现在网站的首页 或者子站的主页上。
以上的评论列表和最近评论可以考虑是否同时支持常规widget渲染和ajax延迟加载！
之所以有ajax加载的需求 出于两种考虑
-   ajax 延迟加载可以加速网站响应提高用户体验。
-   对于类似相册图片浏览场景 往往页面不跳转 点击小图 显示大图 相应需要显示对应的评论列表


model层
---------------
模型层 ： 对应每种评论目标 是共用一个还是每种实体使用一个
如果项目大了会考虑使用分表策略 此时正好用评论的目标类型作为分表依据（每种实体对应一个表）

对于类似 我的评论这样的功能 共用表可以方便提取 但对于分表情形 只能一种实体类型一个选项卡来分次提取了！


db层
----------------
可以考虑使用嵌套集模型还是使用邻接表模型
另外nosql的mongodb 也是候选方案！
